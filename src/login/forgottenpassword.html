<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css">
    <link rel="icon" href=".././logo.ico" type="image/x-icon">
    <script type="module">

      
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
        import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";
        import {  getAuth, onAuthStateChanged, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";
  
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyAY2KSo69GzjyjuIVR2qG30b4sKHZ6J3YY",
                authDomain: "fedtrustbank.firebaseapp.com",
                projectId: "fedtrustbank",
                storageBucket: "fedtrustbank.appspot.com",
                messagingSenderId: "474695390824",
                appId: "1:474695390824:web:1f4efbcf9404c4b93bcddd"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
  
  
//         onAuthStateChanged(auth, (user) => {
//         if(user){
//           if (user.email === 'support@swiftbanking.com') {
//       window.location.href = "../../Admin/dash.html";
//       // ...
//     } else {
//       window.location.href = "../../dashboard/index.html";
//     }
//         }
   
//   });
  
    const formDAT = document.getElementById('fpass');
  
    formDAT.addEventListener('submit', event =>{
       event.preventDefault();
  
       const formData = new FormData(formDAT);
      let email = formData.get('email');
     
        
  
      if(email){
        sendPasswordResetEmail(auth, email)
  .then(() => {
   alert('password reset link was sent to your mail address');
   window.location.replace("./index.html");
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    notyf.error(errorCode);
    // ..
  });
      }else{
        notyf.error('something went wrong');
      }
  
         
    });
  
  
  
  
  
  </script>
</head>
<body>

    <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>

    <script>
      var notyf = new  Notyf({
    duration: 2000,
    position: {
      x: 'right',
      y: 'top',
    },
  });
      
    </script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <div class="form-gap" ></div>
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div class="panel panel-default">
                  <div class="panel-body">
                    <div class="text-center">
                      <h3><i class="fa fa-lock fa-4x"></i></h3>
                      <h2 class="text-center">Forgot Password?</h2>
                      <p>You can reset your password here.</p>
                      <div class="panel-body">
        
                        <form id="fpass" role="form" autocomplete="off" class="form">
        
                          <div class="form-group">
                            <div class="input-group">
                              <span class="input-group-addon"><i class="glyphicon glyphicon-envelope color-blue"></i></span>
                              <input id="email" name="email" required placeholder="email address" class="form-control"  type="email">
                            </div>
                          </div>
                          <div class="form-group">
                            <input name="recover-submit" class="btn btn-lg btn-primary btn-block" style="background-color: rgb(63, 4, 81);" value="Reset Password" type="submit">
                          </div>
                          
                          <input type="hidden" class="hide" name="token" id="token" value=""> 
                        </form>
                          <!-- <button class="btn btn-lg btn-primary btn-block" style="background-color: green;"  onclick="history.go(-1)"> ‚ÜêBack</button> -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
        </div>
    </div>
    <style>
        .form-gap {
    padding-top: 70px;
}
    </style>
</body>
</html>